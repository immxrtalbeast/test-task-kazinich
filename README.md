#  RTP Multiplier
[![wakatime](https://wakatime.com/badge/user/42cf6868-b638-4d34-9e52-ec8f63476139/project/eb146a3a-6ad5-4e46-9c2d-cbbe29f4010c.svg)](https://wakatime.com/badge/user/42cf6868-b638-4d34-9e52-ec8f63476139/project/eb146a3a-6ad5-4e46-9c2d-cbbe29f4010c)

Если sum0 это количество всех начальных чисел последовательность, то GG WP!

## Алгоритм
Если sum0 сумма значений клиента, которые необходимо умножить на multiplier, и все числа распределенны равномерно в списке sequence, то rtp можно представить как % от суммы чисел в sequence.
Тогда можно представить все числа sequence на прямой.<img width="1752" height="256" alt="image" src="https://github.com/user-attachments/assets/9eb4e0e2-8fd0-4bac-9865-15da59aef5b0" />
И если брать во внимание что в sum1 идут чи  сла только меньше чем multiplier, нам остаётся взять точку(x1) на прямой и мы получим сумму чисел из sequence от 0 до x1.
<img width="1662" height="385" alt="image" src="https://github.com/user-attachments/assets/3afbc987-57a1-4fb8-b4f2-46dc90a427b3" />
Надо лишь знать куда ставить эту точку чтобы sum1 составляла примерно rtp% от sum0.

А Доля чисел, необходимых для достижения определённого процента суммы, равна квадратному корню из целевой доли.
Для 50% суммы требуется около 
sqrt(0.5)≈0.7071067
sqrt(0.7)≈0.8366600
Домножаем на 10000 т.к. по условию верхняя граница 10к и получаем точки для rtp.

Для rpt 0.5 точка будет находится на 7071.067

Для rpt 0.7 точка будет находится на 8366.600 и т.д.

Добавляем множители чтобы точка превратилась в отрезок 
```go
	ideal := math.Sqrt(s.targetRTP) * 10000.0
	low := ideal * 0.7
	high := ideal * 1.3
```
И всё! _(Если я правильно понял задание)_ Теперь у нас есть псевдо рандомные мультипликаторы которые на дистанции в 10000 итераций выдают погрешность около 0.02 единиц (Но это зависит от множителей верхней и нижней границ)
#  Дополнение
Добавил логгирование от себя. Захардкодил порт. Так бы ещё добавил заваротку в докер, красивое логгирование, работу с конфигом. Graceful shutdown имеется.
